크롬 개발자 도구의 performance 탭은 웹 페이지의 성능 측정을 위해 가장 보편적으로 사용되는 도구입니다.
웹페이지의 로딩 과정을 기록하고 단계마다 걸리는 시간이나 렌더링 상태를 확인할 수 있습니다.

1.랜더링 블록
랜더링 블록은 말 그대로 브라우저의 html 랜더링을 막는 것입니다.
랜더링 블록은 html 파싱 중 자바스크립트 코드가 있거나 css가 있는 경우 발생합니다.
랜더링 블록이 발생하면 브라우저의 랜더링 과정을 지연시키기 때문에 적절한 방법을 사용하여 로딩 속도를 개선해야 한다.
[1]css의 랜더링 블록
초기 뷰포트 영역에 해당되는 css를 inline css로 삽입하는 방법
inline css : 외부 css파일의 내용을 html문서에 직접 삽입
critical css : 초기 뷰포트 영역에 해당되는 css를 inline css로 삽입하는 방법

[2]자바스크립트의 랜더링 블록
html의 닫는 body태그 바로 앞에 배치
자바스크립트 코드는 dom트리와 css트리를 동적으로 변경시킬 수 있기 때문에 브라우저는 html 파싱 중 script태그를 만나면
로딩 및 실행이 될 때까지 dom 트리 생성을 중단한다.

[3]레이아웃의 변경
레이아웃이 부모나 자식 요소들의 크기를 재계산하기 때문에 비용이 많이 들어간다.

2.메모리 누수 탐지하기
performance의 memory탭에서 확인할 수 있다.
memory탭에서 제공하는 측정타입
-heap snapshot : 자바스크립트 객체와 관련된 dom 노드 사이의 분포를 보여준다.
-allocation instrumentation on timeline : 시간의 흐름에 따라 메모리 누수를 기록하고 타임라인에 맞춰 분석할 수 있다.
-allocation sampling : 자바스크립트 함수를 기준으로 메모리를 측정
*
timeline에서 나타나는 파란색 막대는 할당된 메모리를 나타내며 메모리 삭제 시 회색 막대로 나타난다.


3.performance탭의 다양한 지표들
[1]DCL(domContentLoaded)
브라우저가 DOM트리를 완성하였을 때 발생
[2]Load
dom트리 뿐만 아니라 css, 이미지와 같은 리소스들까지 모두 준비되었을 때 발생한다.
[3]FP(first paint)
브라우저가 화면에 어떤 요소를 처음으로 그리기 시작하는지 알려준다.
브라우저관점에서 처음으로 요소를 그리는 시점이기 때문에 사용자에게는 보이지 않을 수 있다.
[4]FCP(first contentful paint)
사용자가 화면에서 무언가를 인식하는 시점

4.web vitals
웹의 품질 측정을 위해 페이지의 로딩속도, 사용자와의 인터렉션, 콘텐츠의 레이아웃 등 웹의 품질플 평가하는 도구
[1]LCP(largest contentful paint)
페이지의 뷰포트에서 가장 큰 영역을 차지하는 이미지나 텍스트 블록이 렌더링되는 시간을 측정한다.
[2]FID(First Input Delay)
사용자가 처음 페이지와 인터렉션을 하였을 때 얼마나 빠르게 응답하였는지 속도를 측정
*TTI(time to interaction)
시간이 오래 걸리는 작업들이 모두 완료된 후, 페이지가 완전히 사용자와 상호작용할 수 있는 상태가 되기까지 걸리는 시간을 측정
fid는 페이지가 완전히 로딩되기 전에 발생하는 사용자 입력을 추적할 수 있다.
[3]CLS(cumulative layout shift)
불필요한 레이아웃의 변경 빈도를 측정하여 시각적 안정성을 판단하는 지표

5.라이트하우스
웹사이트 품질을 측정하는 자동화 도구
[1]기준
1.performance
fcp,lcp,cls외에 si,tti, tbt를 추가로 측정한다
(1)SI(speed index)
화면에 보이는 영역의 로딩속도를 측정한 지표
모든화면의 요소를 한 번에 보여주는 것보다 먼저 나타날 수 있는 컨텐츠를 점진적으로 보여줄 경우 높은 점수를 받는다.
(2)TTI(time to interactivce)
페이지가 완전히 사용자와 상호작용할 수 있는 상태가 되기까지 걸리는 시간
(3)TBT(total blocking time)
페이지가 사용자 입력에 응답하지 못하도록 차단된 총 시간
여기서 말하는 차단 시간은 long task로 인해 상소작용하지 못하는 시간을 의미한다.
fcp부터 tti사이의 시간 동안 총 사단된 시간을 더해 측정한다.
2.PWA(progressive web app)
웹 및 앱이 기능을 모두 활용할 수 잇도록 특정기술과 표준 패턴으로 개발된 웹 앱
3.Best Practices
안티패턴을 찾아주고, deprecated된 api를 사용하고 있는지, 보안, 페이지속도 등을 개선하는 것을 도와준다.
4.Accessibility
모두가 웹을 사용할 수 있도록 도와주는 웹 접근성 지침을 잘따르는지 검증
이미지에 alt를 추가하거나,시멘틱 태그를 사용하면 점수가 올라간다.
5.SEO


*
프랜트앤드 어플리케이션 개발 시에는 등록한 타이머를 clearTimeout() or clearInterval()을 통해 해제하지 않거나,
dom에 등록된 이벤트를 해제하지 않는 경우 또는 불필요한 클로저를 사용하는 경우 메모리 누수가 발생하곤 합니다.
